# MAIN.PY ì‚¬ìš© ê°€ì´ë“œ

## ğŸš€ ì‹¤í–‰ ë°©ë²•

main.pyëŠ” **2ê°€ì§€ ëª¨ë“œ**ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

---

### 1ï¸âƒ£ Flask API ì„œë²„ ëª¨ë“œ (ì›¹ ì±„íŒ…ìš©)

í”„ë¡ íŠ¸ì—”ë“œì™€ ì—°ë™í•˜ì—¬ ì›¹ ì±„íŒ…ì„ ì‚¬ìš©í•  ë•Œ

```bash
python main.py --server
```

ë˜ëŠ”

```bash
start_server.bat
```

**íŠ¹ì§•:**
- í¬íŠ¸: 5000
- ì—”ë“œí¬ì¸íŠ¸: `/api/chat`, `/api/health`, `/api/chat/reset`
- ì„¸ì…˜ë³„ ì±„íŒ… ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬
- ë°±ì—”ë“œë¡œ ì¶”ì²œ ê²°ê³¼ ìë™ ì „ì†¡
- CORS ì„¤ì • ì™„ë£Œ

**í™•ì¸:**
- ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5000/api/health ì ‘ì†
- ì‘ë‹µ: `{"status": "ok", "message": "AI server is running"}`

---

### 2ï¸âƒ£ CLI ëª¨ë“œ (í„°ë¯¸ë„ ëŒ€í™”)

í„°ë¯¸ë„ì—ì„œ ì§ì ‘ AIì™€ ëŒ€í™”í•  ë•Œ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)

```bash
python main.py
```

ë˜ëŠ” ì¶”ì²œê³¡ ê°œìˆ˜ ì§€ì •:

```bash
python main.py --limit 10
```

**íŠ¹ì§•:**
- í„°ë¯¸ë„ì—ì„œ ì‹¤ì‹œê°„ ëŒ€í™”
- ì¶”ì²œ ê²°ê³¼ ì¦‰ì‹œ í‘œì‹œ
- ë°±ì—”ë“œë¡œ ì¶”ì²œ ê²°ê³¼ ì „ì†¡ (ì„ íƒ)
- ì¢…ë£Œ: `quit` ë˜ëŠ” `exit` ì…ë ¥

---

## ğŸ“‹ ëª…ë ¹ì–´ ì˜µì…˜

```bash
python main.py [ì˜µì…˜]
```

| ì˜µì…˜ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| `--server` | Flask API ì„œë²„ ëª¨ë“œ ì‹¤í–‰ | `python main.py --server` |
| `--limit N` | ì¶”ì²œê³¡ ê°œìˆ˜ ì§€ì • (CLI ëª¨ë“œ) | `python main.py --limit 10` |
| `-h`, `--help` | ë„ì›€ë§ í‘œì‹œ | `python main.py --help` |

---

## ğŸ”„ ì‹¤í–‰ ì˜ˆì‹œ

### ì˜ˆì‹œ 1: Flask ì„œë²„ ì‹œì‘
```bash
cd c:\Users\beagnihtemos\Desktop\hkt\ai-main\chatbot_project
python main.py --server
```

ì¶œë ¥:
```
============================================================
ğŸš€ AI API ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...
ğŸ“ ì„œë²„ ì£¼ì†Œ: http://localhost:5000
ğŸ“ Health check: http://localhost:5000/api/health
ğŸ“ Chat endpoint: POST http://localhost:5000/api/chat
ğŸ“ Reset endpoint: POST http://localhost:5000/api/chat/reset
============================================================
 * Running on http://0.0.0.0:5000
```

### ì˜ˆì‹œ 2: CLI ëŒ€í™”
```bash
cd c:\Users\beagnihtemos\Desktop\hkt\ai-main\chatbot_project
python main.py
```

ì¶œë ¥:
```
============================================================
ğŸ¤– Gemini ê¸°ë°˜ ê°ì •í˜• ìŒì•… ì¶”ì²œ ì±—ë´‡
ì¢…ë£Œí•˜ë ¤ë©´ 'quit' ë˜ëŠ” 'exit'ë¥¼ ì…ë ¥í•˜ë©´ ë¨.
============================================================
ğŸ§‘ You: ì˜¤ëŠ˜ ê¸°ë¶„ì´ ì¢‹ì•„
ğŸ¤– Gemini: ì¢‹ì€ í•˜ë£¨ë¥¼ ë³´ë‚´ê³  ê³„ì‹œëŠ”êµ°ìš”! ...
```

### ì˜ˆì‹œ 3: CLI ëŒ€í™” (ì¶”ì²œê³¡ 10ê³¡)
```bash
python main.py --limit 10
```

---

## âš™ï¸ í•„ìš”í•œ íŒ¨í‚¤ì§€

```bash
pip install -r requirements.txt
```

requirements.txt:
```
google-generativeai==0.3.2
python-dotenv==1.0.0
requests==2.31.0
flask==3.0.0
flask-cors==4.0.0
```

---

## ğŸ” ë¬¸ì œ í•´ê²°

### 1. `--server` ì˜µì…˜ ì¸ì‹ ì•ˆ ë¨
**ì›ì¸:** ì´ì „ ë²„ì „ì˜ main.py
**í•´ê²°:** ìµœì‹  main.py íŒŒì¼ í™•ì¸

### 2. Flask ê´€ë ¨ import ì˜¤ë¥˜
**ì›ì¸:** flask íŒ¨í‚¤ì§€ ë¯¸ì„¤ì¹˜
**í•´ê²°:**
```bash
pip install flask flask-cors
```

### 3. í¬íŠ¸ 5000 ì‚¬ìš© ì¤‘
**ì›ì¸:** ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì´ 5000ë²ˆ í¬íŠ¸ ì‚¬ìš©
**í•´ê²°:**
```bash
# Windowsì—ì„œ í”„ë¡œì„¸ìŠ¤ í™•ì¸
netstat -ano | findstr :5000

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ (PID í™•ì¸ í›„)
taskkill /PID <PID> /F
```

---

## ğŸ“Š ë¹„êµí‘œ

| í•­ëª© | CLI ëª¨ë“œ | ì„œë²„ ëª¨ë“œ |
|------|----------|-----------|
| **ëª…ë ¹ì–´** | `python main.py` | `python main.py --server` |
| **ìš©ë„** | ê°œë°œ/í…ŒìŠ¤íŠ¸ | í”„ë¡œë•ì…˜/ì›¹ ì—°ë™ |
| **ì¸í„°í˜ì´ìŠ¤** | í„°ë¯¸ë„ | HTTP API |
| **ì„¸ì…˜ ê´€ë¦¬** | ë‹¨ì¼ ì„¸ì…˜ | ë‹¤ì¤‘ ì„¸ì…˜ |
| **ë°±ì—”ë“œ ì—°ë™** | ì„ íƒì  | ìë™ |
| **ì¢…ë£Œ ë°©ë²•** | `quit` ì…ë ¥ | `Ctrl+C` |

---

## ğŸ’¡ íŒ

1. **ê°œë°œ ì¤‘**: CLI ëª¨ë“œë¡œ ë¹ ë¥´ê²Œ í…ŒìŠ¤íŠ¸
2. **í”„ë¡œë•ì…˜**: ì„œë²„ ëª¨ë“œë¡œ ì‹¤í–‰
3. **ë””ë²„ê¹…**: CLI ëª¨ë“œë¡œ ìƒì„¸ ë¡œê·¸ í™•ì¸
4. **ì „ì²´ ì‹œìŠ¤í…œ**: `start-all.bat` ì‚¬ìš©

---

## ğŸ¯ ìš”ì•½

```bash
# Flask ì„œë²„ (ì›¹ ì±„íŒ…ìš©)
python main.py --server

# CLI ëŒ€í™” (í…ŒìŠ¤íŠ¸ìš©)
python main.py

# CLI ëŒ€í™” + ì¶”ì²œê³¡ 10ê³¡
python main.py --limit 10

# ë„ì›€ë§
python main.py --help
```

**ê¸°ë³¸ ê¶Œì¥: `python main.py --server` (Flask ì„œë²„ ëª¨ë“œ)** ğŸš€
